{"version":3,"sources":["utils/api.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","config","this","_url","url","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","status","name","about","body","JSON","stringify","avatar","link","id","isLiked","authorization","Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","onClick","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","type","map","Footer","currentYear","Date","getFullYear","PopupWithForm","isOpen","onClose","title","children","submitButton","handleSubmit","onSubmit","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","nameRef","linkRef","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","cardList","catch","err","console","log","getInitialCards","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","editUserInfo","updatedUser","addCard","editUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.79215b28.chunk.js","sourcesContent":["class Api {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      return res.ok ? res.json() : Promise.reject(`Ошибка! ${res.status}`);\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      return res.ok ? res.json() : Promise.reject(`Ошибка! ${res.status}`);\r\n    });\r\n  }\r\n\r\n  editUserInfo(name, about) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then((res) => {\r\n      return res.ok ? res.json() : Promise.reject(`Ошибка! ${res.status}`);\r\n    });\r\n  }\r\n\r\n  editUserAvatar(url) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: url,\r\n      }),\r\n    }).then((res) => {\r\n      return res.ok ? res.json() : Promise.reject(`Ошибка! ${res.status}`);\r\n    });\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then((res) => {\r\n      return res.ok ? res.json() : Promise.reject(`Ошибка! ${res.status}`);\r\n    });\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      return res.ok ? res.json() : Promise.reject(`Ошибка! ${res.status}`);\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      return res.ok ? res.json() : Promise.reject(`Ошибка! ${res.status}`);\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-24\",\r\n  headers: {\r\n    authorization: \"a37e79bf-5aa8-4ffb-8375-5c9e4f6d74df\",\r\n    \"content-type\": \"application/json\",\r\n  },\r\n});\r\nexport default api;\r\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport headerLogo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className=\"header\">\r\n      <img src={headerLogo} className=\"logo\" alt=\"Логотип\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = `element__bin ${\r\n    isOwn ? \"element__bin\" : \"element__bin_hidden\"\r\n  }`;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `element__like ${\r\n    isLiked ? \"element__like_active\" : \"element__like\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n  return (\r\n    <li className=\"element\">\r\n      <img\r\n        className=\"element__image\"\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}\r\n        aria-label=\"Удалить\"\r\n      ></button>\r\n      <div className=\"element__text\">\r\n        <p className=\"element__title\">{card.name}</p>\r\n        <div className=\"element__container\">\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n            aria-label=\"Лайкнуть\"\r\n          ></button>\r\n          <p className=\"element__counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__container\" onClick={onEditAvatar}>\r\n            <img\r\n              className=\"profile__avatar\"\r\n              src={`${currentUser.avatar}`}\r\n              alt=\"Аватар\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__change\"\r\n              aria-label=\"Изменить аватар\"\r\n            ></button>\r\n          </div>\r\n          <div className=\"profile__text\">\r\n            <div className=\"profile__user\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"profile__edit\"\r\n                aria-label=\"Изменить профиль\"\r\n                onClick={onEditProfile}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__job\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add\"\r\n          aria-label=\"Добавить\"\r\n          onClick={onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n  return (\r\n    <div className=\"footer\">\r\n      <p className=\"footer__copyright\">© {currentYear} Mesto Russia</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  name,\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  submitButton,\r\n  handleSubmit,\r\n}) {\r\n  return (\r\n    <div className={`popup popup_${name} ${isOpen ? \"popup_is-opened\" : \"\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close\"\r\n          aria-label=\"Закрыть\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        <form\r\n          className={`popup__form popup__form_${name}`}\r\n          name=\"form\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <fieldset className=\"popup__fieldset\">{children}</fieldset>\r\n          <button type=\"submit\" className=\"popup__save\">\r\n            {submitButton}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <section\r\n      className={`popup popup_images ${card.name ? \"popup_is-opened\" : \"\"}`}\r\n    >\r\n      <div className=\"popup__container popup__container_image\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close\"\r\n          aria-label=\"Закрыть\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img className=\"popup__image\" alt={card.name} src={card.link} />\r\n        <h3 className=\"popup__title popup__title_image\">{card.name}</h3>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  // Подписка на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeN(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleChangeD(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      submitButton=\"Cохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      handleSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        onChange={handleChangeN}\r\n        className=\"popup__input\"\r\n        id=\"username\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={name || \"\"}\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n      />\r\n      <span className=\"popup__error\" id=\"username-error\"></span>\r\n      <input\r\n        onChange={handleChangeD}\r\n        className=\"popup__input\"\r\n        id=\"userjob\"\r\n        name=\"about\"\r\n        type=\"text\"\r\n        value={description || \"\"}\r\n        placeholder=\"О себе\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n      />\r\n      <span className=\"popup__error\" id=\"userjob-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"update\"\r\n      title=\"Обновить аватар\"\r\n      submitButton=\"Cохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      handleSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        ref={avatarRef}\r\n        className=\"popup__input popup__input_update\"\r\n        id=\"newAvatar\"\r\n        name=\"link-avatar\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на новый аватар\"\r\n        required\r\n      />\r\n      <span className=\"popup__error\" id=\"newAvatar-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const nameRef = React.useRef();\r\n  const linkRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name: nameRef.current.value,\r\n      link: linkRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      submitButton=\"Cохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      handleSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        ref={nameRef}\r\n        className=\"popup__input\"\r\n        id=\"placeName\"\r\n        name=\"name\"\r\n        type=\"text\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n      />\r\n      <span className=\"popup__error\" id=\"placeName-error\"></span>\r\n      <input\r\n        ref={linkRef}\r\n        className=\"popup__input\"\r\n        id=\"placeLink\"\r\n        name=\"link\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n      />\r\n      <span className=\"popup__error\" id=\"placeLink-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport api from \"../utils/api.js\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup.js\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\r\nimport AddPlacePopup from \"./AddPlacePopup.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((cardList) => {\r\n        setCurrentUser(cardList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((cardList) => {\r\n        setCards(cardList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    api\r\n      .editUserInfo(name, about)\r\n      .then((updatedUser) => {\r\n        setCurrentUser(updatedUser);\r\n        setIsEditProfilePopupOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api\r\n      .editUserAvatar(avatar)\r\n      .then((updatedUser) => {\r\n        setCurrentUser(updatedUser);\r\n        setIsEditAvatarPopupOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleAddPlaceSubmit({ name, link }) {\r\n    api\r\n      .addCard(name, link)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        setIsAddPlacePopupOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"body\">\r\n        <div className=\"page\">\r\n          <Header />\r\n          <Main\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            cards={cards}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handCardDelete}\r\n          />\r\n          <Footer />\r\n        </div>\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n        <PopupWithForm\r\n          name=\"delete\"\r\n          title=\"Вы уверены?\"\r\n          submitButton=\"Да\"\r\n        ></PopupWithForm>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"../src/components/App.js\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}